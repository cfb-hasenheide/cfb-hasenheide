= form_with model: report do |f|
  = f.hidden_field :event_id

  - unless report.event.type == 'Other'
    %fieldset.border-bottom.mb-4
      .form-group.row
        = label_tag 'Endstand', nil, class: 'col-sm-4 col-form-label'

        .col-sm-8
          = render 'form_final_score', f: f

      .form-group.row
        = label_tag 'Halbzeitstand', nil, class: 'col-sm-4 control-label'

        .col-sm-8
          = render 'form_half_time_score', f: f

      .form-group.row
        = label_tag 'Ecken', nil, class: 'col-sm-4 control-label'

        .col-sm-8
          = render 'form_corners', f: f

      .form-group.row
        = f.label :possession, class: 'col-sm-4 control-label'

        .col-sm-8
          = render 'layouts/de_and_increasable_number_field',
            f: f,
            method: :possession,
            help_text: f.object.club_team_name

      .form-group.row
        = f.label :incident, class: 'col-sm-4 control-label'

        .col-sm-8
          = f.select :incident,
            options_for_select(incident_options),
            { include_blank: true },
            class: 'form-control'

  %fieldset.border-bottom.mb-4
    .form-group.row
      = f.label :turf, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.select :turf,
          options_for_select(turf_options),
          { prompt: true },
          class: 'form-control'

    .form-group.row
      = f.label :weather, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.select :weather,
          options_for_select(weather_options),
          { prompt: true },
          class: 'form-control'

  %fieldset.border-bottom.mb-4
    .form-group.row
      .col-sm-4

      .col-sm-8
        .form-check
          = f.check_box :referee,
            'data-toggle' => 'collapse',
            'data-target' => '#refereeForm',
            class: 'form-check-input'

          = f.label :referee, class: 'form-check-label'

    .collapse#refereeForm{class: ('show' if report.referee?)}
      .form-group.row
        = f.label :referee_name, class: 'col-sm-4 control-label'

        .col-sm-8
          = f.text_field :referee_name, class: 'form-control'

      .form-group.row
        = f.label :referee_description, class: 'col-sm-4 control-label'

        .col-sm-8
          = f.text_field :referee_description, class: 'form-control'

  %fieldset.border-bottom.mb-4
    .form-group.row
      = f.label :goalkeeper_id, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.collection_select :goalkeeper_id,
          report.event.attending_players,
          :id,
          :nickname,
          { prompt: true },
          class: 'form-control'

    .form-group.row
      = f.label :captain_id, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.collection_select :captain_id,
          report.event.attending_players,
          :id,
          :nickname,
          { prompt: true },
          class: 'form-control'

    .form-group.row
      = f.label :most_valuable_player_id, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.collection_select :most_valuable_player_id,
          report.event.attending_players,
          :id,
          :nickname,
          { prompt: true },
          class: 'form-control'

    .form-group.row
      = f.label :annotation, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.text_area :annotation, class: 'form-control'

  %fieldset.border-bottom.mb-4
    .form-group.row
      = f.label :content, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.text_area :content, rows: 10, class: 'form-control'

    .form-group.row
      = f.label :reporter_id, class: 'col-sm-4 control-label'

      .col-sm-8
        = f.collection_select :reporter_id,
          Player.all.order(:nickname),
          :id,
          :nickname,
          { prompt: true },
          class: 'form-control'

  .form-group.row
    .col-sm-4

    .col-sm-8
      = f.submit class: 'btn btn-primary'

      = link_to 'Abbrechen', :back, class: 'btn btn-secondary float-right'
